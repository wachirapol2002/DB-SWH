<%- include('head') %>
<%- include('header') %>
<body>
    <div id="app">
        <main>
            <div class="container-fluid justify-content-center" style="min-height: 80vh; background-color:#f5f5f5;">
                <div class="row p-5"></div>
                <div class="container-fluid pt-2 pl-5 pr-5 pb-5 mt-5" style="width: 75vw; border-radius: 25px; background-color: #e7e7e7;">
                    <div class="col text-center my-2" style="color:rgb(96, 150, 180); font-size: 1.6rem;">
                        เพิ่มสมาชิก สำหรับทีม <%= teamName %>
                    </div>
                    <!-- <form action="" method="POST"> -->
                        
                    
                    <form action="/team/addMember/<%= teamName %>" method="POST">
                        <div class="form-group">
                            <label for="teamMemberToAdd">พนักงาน</label>
                            <select id="teamMemberToAdd" name="teamMemberToAdd" class="form-control">
                                <template v-for="employee in employees">
                                    <option>{{Zerofill(employee.employee_id, 3)+" "+ employee.first_name +" "+ employee.last_name}}</option>
                                </template>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="teamMemberRole">บทบาท</label>
                            <input type="text" class="form-control" name="teamMemberRole" id="teamMemberRole">
                        </div>

                        <div class="mt-4 text-center">
                            <button type="submit" class="btn btn-primary">เพิ่ม</button>
                            <a href="/team/edit/<%= teamName %>" class="btn btn-light">ยกเลิก</a>
                        </div>
                        
                      </form>
                </div>
                
            </div>
            <div class="container-fluid" style="min-height: 2rem; background-color: #f5f5f5;"></div>
        </main>
        <%- include('footer') %>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script>
    var app = new Vue({
    el: '#app',
    data: {
        center:{
            'd-flex': true,
            'justify-content-center':true,
            'align-items-center':true
        },
        employees: JSON.parse(`<%- employees %>`),
        teamName: `<%- teamName %>`
    },
    methods: {
        Zerofill(number, length) {
            const strNum = '' + number;
            const pad = '0'.repeat(length);
            return pad.substring(0, pad.length - strNum.length) + strNum;
        },
        
    },
    computed:{
        
    },
    watch:{
        
    },
    })
    </script>
</body>
</html>